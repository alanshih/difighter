$(document).ready(function(){function t(t,e){if(e>0)setTimeout(function(){var e=document.createElement("audio");e.setAttribute("src",n+"assets/audio/"+t+".mp3"),e.setAttribute("autoplay","autoplay"),e.load(),e.play()},2e3);else{var a=document.createElement("audio");a.setAttribute("src",n+"assets/audio/"+t+".mp3"),a.setAttribute("autoplay","autoplay"),a.load(),a.play()}}function e(e){t("round-1",0),$("#subject .round-"+e).fadeIn(500,function(){var e=$(this).attr("data-winner");setTimeout(function(){a(e),t("punch-1",0)},500),$(this).delay(2e3).fadeOut(500)})}function a(t){"player_1"==t?($("#fighters .player-2 .hit").removeClass("hide"),$("#fighters .player-2 .standing").removeClass("hide"),$("#fighters .player-2 .fighting").addClass("hide"),$("#fighters .player-1 .hit").addClass("hide"),$("#fighters .player-1 .standing").addClass("hide"),$("#fighters .player-1 .fighting").removeClass("hide")):($("#fighters .player-1 .hit").removeClass("hide"),$("#fighters .player-1 .standing").removeClass("hide"),$("#fighters .player-1 .fighting").addClass("hide"),$("#fighters .player-2 .hit").addClass("hide"),$("#fighters .player-2 .standing").addClass("hide"),$("#fighters .player-2 .fighting").removeClass("hide"))}function i(){$("#fighters .player-box .hit").addClass("hide"),$("#fighters .player-box .standing").removeClass("hide"),$("#fighters .player-box .fighting").addClass("hide")}function s(){var e=$("#battle-fight").attr("data-winner");"player_1"==e?($("#fighters .player-1 .hit").addClass("hide"),$("#fighters .player-1 .standing").removeClass("hide"),$("#fighters .player-1 .fighting").addClass("hide"),$("#fighters .player-2 .fire").removeClass("hide"),$("#fighters .player-2 .hit").addClass("hide"),$("#fighters .player-2 .standing").removeClass("hide"),$("#fighters .player-2 .fighting").addClass("hide")):($("#fighters .player-2 .hit").addClass("hide"),$("#fighters .player-2 .standing").removeClass("hide"),$("#fighters .player-2 .fighting").addClass("hide"),$("#fighters .player-1 .fire").removeClass("hide"),$("#fighters .player-1 .hit").addClass("hide"),$("#fighters .player-1 .standing").removeClass("hide"),$("#fighters .player-1 .fighting").addClass("hide")),t("death",0),$("#subject .winner-name").fadeIn(500,function(){5==$("#battle-fight").attr("data-score")?t("you-win-perfect",0):t("you-win",0),setTimeout(function(){$("#battle-fight").fadeOut(500,function(){window.location=n+"views/main.php?application=battle&winner="+u})},3e3)})}var n=$("body").attr("data-base-url"),d=$("body").attr("id"),r,u=$("#battle-fight").attr("data-winner-id");if("application-battle"==d){var l=$("body").attr("class"),o=document.createElement("audio");o.setAttribute("src",n+"assets/audio/vs.mp3"),o.setAttribute("autoplay","autoplay"),o.load(),o.play(),$("#battle-preview-box").delay(700).fadeIn(500,function(){$(this).delay(3e3).fadeOut(500,function(){$("#battle-fight").fadeIn(500);var e=$("#battle-fight").attr("data-music"),d=document.createElement("audio");d.setAttribute("src",n+"assets/audio/battle-"+e+".mp3"),d.setAttribute("autoplay","autoplay"),d.load(),d.play(),setTimeout(function(){t("round-1",0),$("#subject .round-1").fadeIn(500,function(){var e=$(this).attr("data-winner");setTimeout(function(){a(e),t("punch-1",0)},500),$(this).delay(2e3).fadeOut(500,function(){i(),t("round-2",0),$("#subject .round-2").fadeIn(500,function(){var e=$(this).attr("data-winner");setTimeout(function(){a(e),t("punch-2",0)},500),$(this).delay(2e3).fadeOut(500,function(){i(),t("round-3",0),$("#subject .round-3").fadeIn(500,function(){var e=$(this).attr("data-winner");setTimeout(function(){a(e),t("punch-3",0)},500),$(this).delay(2e3).fadeOut(500,function(){i(),t("round-4",0),$("#subject .round-4").fadeIn(500,function(){var e=$(this).attr("data-winner");setTimeout(function(){a(e),t("punch-1",0)},500),$(this).delay(2e3).fadeOut(500,function(){i(),t("round-5",0),$("#subject .round-5").fadeIn(500,function(){var e=$(this).attr("data-winner");setTimeout(function(){a(e),t("punch-2",0)},500),$(this).delay(2e3).fadeOut(500,function(){s(),d.pause()})})})})})})})})})})},1e3)})})}});